{% extends "base.html" %}
{% import "components/_feed.html" as feed %}
{% import "components/_reply_template.html" as reply_template %}

{% set feed_type = "post" %}
{% set primary_page = False %}
{% set page_name = "Post" %}

{% block title %}Bitter - Post{% endblock %}

{% block style %}
<link rel="stylesheet", type="text/css", href="{{ url_for('static', filename='styles/post.css') }}">
{{ feed.style() }}
<!-- reply_template.style() is not called since its dependencies are included in feed.style() -->
{% endblock %}

{% block content %}
    {{ feed.content(feed_type) }}
    <form id="new-reply-form">
        <textarea id="reply-text-input" maxlength="140" placeholder="Reply"></textarea>
        <button type="submit" title="Post reply">
            <svg class="icon transparent-button"><use href="../static/img/sprites.svg#icon-back"></use></svg>
        </button>
    </form>
    <script>document.getElementById("new-reply-form").reset()</script>

    <div id="past-reply-container">
        {{ reply_template.content(
            user_header_parent_id = "reply-template",
            user_header_parent_class = "post" + (" timeline-feed" if feed_type == "timeline" else "")
        ) }}
    </div>
{% endblock %}

